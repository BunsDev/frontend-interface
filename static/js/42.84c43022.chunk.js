(this["webpackJsonpfrontend-interface"]=this["webpackJsonpfrontend-interface"]||[]).push([[42],{2845:function(t,e,n){"use strict";var r,a,o,i,c,d,s,l,u=n(30),m=n(23),f=n(24),b=n(1),p=["data","columns","breakpoint"],x=f.default.div(r||(r=Object(m.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),h=f.default.div(a||(a=Object(m.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: -15px -15px 20px;\n\tpadding: 20px 16px 15px;\n\tborder-bottom: 1px solid ",";\n"])),(function(t){return t.theme.text3})),j=f.default.span(o||(o=Object(m.a)(["\n\tdisplay: block;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ",";\n"])),(function(t){return t.theme.text1})),g=f.default.span(i||(i=Object(m.a)(["\n\tdisplay: block;\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ",";\n"])),(function(t){return t.theme.text1})),O=f.default.div(c||(c=Object(m.a)(["\n\tborder-radius: 12px;\n\tborder: ",";\n\tpadding: ",";\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 10px;\n\t}\n"])),(function(t){var e=t.withoutBorder,n=t.theme;return e?"none":"1px solid ".concat(n.borderColor2)}),(function(t){return t.withoutBorder?"0":"1rem"})),w=f.default.div(d||(d=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: ",";\n\tjustify-content: ",";\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n"])),(function(t){return t.centered?"center":"flex-start"}),(function(t){return"rtl"!==t.direction?"flex-start":"space-between"})),v=f.default.span(s||(s=Object(m.a)(["\n\tfont-size: ",";\n\tfont-weight: 400;\n\tdisplay: flex;\n\tmin-width: 100px;\n"])),(function(t){return"lg"===t.size?"0.875rem":"0.75rem"})),y=f.default.div(l||(l=Object(m.a)(["\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: ",";\n\ttext-align: ",";\n\tpadding-top: ",";\n"])),(function(t){return"rtl"===t.direction?"flex-end":"flex-start"}),(function(t){return"rtl"===t.direction?"right":"left"}),(function(t){return t.withPadding?"12px":"0"}));e.a=function(t){var e=t.data,n=t.columns,r=t.breakpoint,a=Object(u.a)(t,p);return Object(b.jsx)(x,{className:"d-flex d-".concat(r,"-none"),children:e.map((function(t,e){return Object(b.jsxs)(O,{withoutBorder:a.withoutBorder,children:[a.hasOwnProperty("headerIndex")&&Object(b.jsxs)(h,{children:[Object(b.jsx)(j,{children:n[a.headerIndex].text}),Object(b.jsx)(g,{children:n[a.headerIndex].formatter(null,t,e,n[a.headerIndex].hasOwnProperty("formatExtraData")?n[a.headerIndex].formatExtraData:{})})]}),n.map((function(n,r){return a.hasOwnProperty("headerIndex")&&r===a.headerIndex?null:Object(b.jsx)(w,{direction:a.direction,centered:a.centered&&!n.notCentered,children:n.isAction?Object(b.jsx)(y,{withPadding:!0,direction:a.direction,children:n.formatter(null,t,e,n.hasOwnProperty("formatExtraData")?n.formatExtraData:{})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{size:a.size,children:n.text}),Object(b.jsx)(y,{direction:a.direction,children:n.formatter(null,t,e,n.hasOwnProperty("formatExtraData")?n.formatExtraData:{})})]})},n.dataField)}))]},"row-".concat(e))}))})}},4149:function(t,e,n){"use strict";n.r(e);var r,a,o,i,c,d,s,l,u,m,f,b=n(2774),p=n(748),x=n(3),h=n.n(x),j=n(22),g=n(28),O=n(0),w=n(2789),v=n(49),y=n(752),k=n.n(y),N=n(97),z=n(2902),D=n.n(z),F=n(60),E=n(55),C=n(3010),P=n(468),I=n(755),Y=n(749),M=n(2845),B=n(23),H=n(24),A=n(94),J=H.default.div(r||(r=Object(B.a)(["\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tborder: none;\n\tbackground-color: transparent;\n\n\t@media (max-width: 767px) {\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n"]))),L=H.default.h2(a||(a=Object(B.a)(["\n\tfont-size: 1.25rem;\n\tfont-weight: 700;\n\tcolor: ",";\n\tmargin: 0;\n\n\t@media (max-width: 767px) {\n\t\tmargin-bottom: 30px;\n\t}\n"])),(function(t){return t.theme.text1})),S=H.default.button(o||(o=Object(B.a)(["\n\tborder-radius: 12px;\n\tbackground-color: ",";\n\tpadding: 6px 20px;\n\tmax-height: 40px;\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twhite-space: nowrap;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tborder: none;\n\toutline: none;\n\ttext-decoration: none;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n"])),(function(t){return t.theme.bg1})),q=Object(H.default)(S)(i||(i=Object(B.a)(["\n\tcolor: ",";\n\twidth: 100%;\n\n\t&:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"])),(function(t){return t.theme.primary}),(function(t){return t.theme.bg1}),(function(t){return t.theme.primary})),G=Object(H.default)(A.b)(c||(c=Object(B.a)(["\n\ttext-decoration: none;\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n"]))),K=H.default.span(d||(d=Object(B.a)(["\n\tfont-size: 1rem;\n\tfont-weight: 400;\n\tline-height: 19px;\n\tcolor: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n"])),(function(t){return t.theme.text1})),Q=H.default.span(s||(s=Object(B.a)(["\n\tfont-weight: 700;\n\tfont-size: 0.875rem;\n\tcolor: ",";\n\twhite-space: nowrap;\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 400;\n\t}\n"])),(function(t){return t.theme.text1})),R=Object(H.default)(A.b)(l||(l=Object(B.a)(["\n\tbackground-color: ",";\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 12px;\n\tcolor: ",";\n\tdisplay: flex;\n\talign-items: center;\n\ttransition: 0.3s ease all;\n\tjustify-content: center;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n"])),(function(t){return t.theme.primaryLight}),(function(t){return t.theme.primary}),(function(t){return t.theme.primary}),(function(t){return t.theme.text1})),T=Object(H.default)(A.b)(u||(u=Object(B.a)(["\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 12px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-bottom: 20px;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n"]))),U=H.default.span(m||(m=Object(B.a)(["\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n"]))),V=H.default.div(f||(f=Object(B.a)(["\n\ttable {\n\n\t\tth {\n\t\t\tbackground-color: ",";\n\t\t\tcolor: ",";\n\t\t\tfont-size: 0.875rem;\n\t\t\tfont-weight: 500;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\tpadding: 1.25rem 0.75rem;\n\t\t\tmin-height: 56px;\n            border: 0;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\n\t\t\t&:first-child {\n\t\t\t\tborder-top-left-radius: 12px;\n\t\t\t\tborder-bottom-left-radius: 12px;\n\t\t\t\tpadding: 1.25rem 1.375rem;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tborder-top-right-radius: 12px;\n\t\t\t\tborder-bottom-right-radius: 12px;\n\t\t\t\tpadding: 1.25rem 1.375rem 1.25rem 1.25rem;\n\t\t\t}\n\t\t}\n\n\t\tth,\n\t\ttd {\n            border-top: 0;\n\t\t\tvertical-align: middle !important;\n\n\t\t\t&:first-child {\n\t\t\t\tpadding: 1.25rem 1.375rem;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tpadding: 1.25rem 1.375rem 1.25rem 1.25rem;\n\t\t\t}\n\t\t}\n\n\t\ttd {\n            border-bottom: 1px solid ",";\n\t\t\tcursor: pointer;\n\t\t}\n\n        tr:last-child td {\n            border-bottom: 0;\n        }\n\t}\n"])),(function(t){return t.theme.bg5}),(function(t){return t.theme.text1}),(function(t){return t.theme.borderColor})),W=n(1),X=function(){var t=Object(E.a)().library,e=Object(O.useState)({}),n=Object(g.a)(e,2),r=n[0],a=n[1],o=Object(v.d)(),i=Object(b.a)().t,c=Object(v.e)((function(t){return t.governance})),d=c.spaces,s=c.loading,l=c.proposals,u=Object(N.g)(),m=Object(N.h)(),f=Object(N.i)().space,p=d[f];Object(O.useEffect)((function(){0===Object.keys(d).length?o(Object(P.b)()):d.hasOwnProperty(f)?o(Object(P.a)(f)):u.push(F.g)}),[d,f,u]);var x=function(){var e=Object(j.a)(h.a.mark((function e(n,r){var o,i,c,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.hasOwnProperty(r)){e.next=12;break}return o={},i=n[r],e.next=5,Object(C.f)(r,p.strategies,p.network,t,Object.values(i).map((function(t){return t.address})));case 5:c=e.sent,o=Object.fromEntries(Object.entries(i).map((function(t){var e=[t[0],Object.assign({},t[1])];return e[1].score=c.reduce((function(t,n){return t+(n[e[1].address]||0)}),0),[e[0],e[1]]}))),o=Object(C.e)(o),d=Object.fromEntries(Object.entries(o).sort((function(t,e){return e[1].msg.payload.end-t[1].msg.payload.end}),0)),a(d),e.next=13;break;case 12:a({});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){x(l,f)}),[l,f]);var y={onClick:function(t,e){u.push("".concat(F.g,"/").concat(f,"/proposal/").concat(e[0]))}},z=[{dataField:"asset",text:i("description"),formatter:function(t,e){return Object(W.jsx)(K,{children:Object(I.b)(e[1].msg.payload.name,"name")})}},{dataField:"status",text:i("status"),formatter:function(t,e){var n=(Date.now()/1e3).toFixed(),r=e[1].msg.payload,a=r.start,o=n>r.end?{title:"Closed",className:"label-light-danger",responsiveClassName:"text-danger"}:n>a?{title:"Active",className:"label-light-success",responsiveClassName:"text-success"}:{title:"Pending",className:"label-light-info",responsiveClassName:"text-info"};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("span",{className:"label ".concat(o.className," label-lg d-none d-lg-flex w-100 label-inline py-3"),children:o.title}),Object(W.jsx)(U,{className:"d-flex d-lg-none ".concat(o.responsiveClassName),children:o.title})]})}},{dataField:"start",text:i("startDate"),formatter:function(t,e){return Object(W.jsx)(Q,{children:D()(1e3*e[1].msg.payload.start).format("YYYY/MM/DD HH:mm")})}},{dataField:"end",text:i("endDate"),formatter:function(t,e){return Object(W.jsx)(Q,{children:D()(1e3*e[1].msg.payload.end).format("YYYY/MM/DD HH:mm")})}},{dataField:"author",text:i("author"),formatter:function(t,e){return Object(W.jsxs)(Q,{children:[e[1].address.slice(0,6),"...",e[1].address.slice(-4)]})}}],B={dataField:"actions",text:i("table.actions"),formatter:function(t,e){return Object(W.jsx)("div",{className:"d-flex flex-column align-items-stretch align-items-lg-center justify-content-center w-100",children:Object(W.jsx)(G,{to:"/governance/".concat(f,"/proposal/").concat(e[0]),children:Object(W.jsx)(q,{children:i("viewMore")})})})},isAction:!0};return Object(W.jsxs)(Y.b,{children:[Object(W.jsxs)(J,{children:[Object(W.jsx)(L,{className:"card-title",children:i("governance.proposals")}),Object(W.jsx)(R,{to:"".concat(m.pathname,"/create"),className:"bg-light-primary d-none d-md-flex",children:i("createNew")}),Object(W.jsx)(T,{to:"".concat(m.pathname,"/create"),className:" btn btn-primary btn-gradient-primary d-flex d-md-none",children:i("createNew")})]}),Object(W.jsx)("div",{children:s?Object(W.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(W.jsx)(w.a,{animation:"border",variant:"primary",id:"proposals"})}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(V,{children:Object(W.jsx)(k.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-vertical-center overflow-hidden table-hover",bootstrap4:!0,remote:!0,keyField:"id",columns:z,data:Object.entries(r),rowEvents:y})}),Object(W.jsx)(M.a,{breakpoint:"lg",direction:"rtl",columns:z.concat(B),data:Object.entries(r),headerIndex:0})]})})]})};e.default=function(){var t=Object(b.a)().t;return Object(W.jsx)(p.a,{title:t("governance.title"),children:Object(W.jsx)(X,{})})}}}]);
//# sourceMappingURL=42.84c43022.chunk.js.map